<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>DOM Demo</title>
        <link rel="icon" href="favicon.ico">
        <link rel="stylesheet" href="css/site.css">
    </head>
    <body>
        <main>
            <h1>Welcome to the DOM Demo</h1>
            <!-- <button class="toggle-dark-mode" type="button">Dark Mode</button>
            <p id="first-paragraph">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cumque dolorum sunt a dolore harum corporis id mollitia at, tenetur sapiente, saepe, officia vero voluptates? Laborum?
            </p>
            <p id="second-paragraph" class="support-paragraph">
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Cumque facere repellendus inventore quibusdam sit commodi?
            </p>
            <p id="third-paragraph" class="support-paragraph">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas sint maxime natus eos sequi aliquam tenetur sunt excepturi libero at.
            </p> -->
            <div id="list-section">
                <a id="add-to-list" href="#">Add new Element To List</a>
                <ul id="key-items">
                    <li>Our First LI</li>
                    <li>Our Second LI</li>
                    <li>Our Third LI</li>
                </ul>
            </div>
            <div>
                <h2 id="display-message">Send Email Demo</h2>
                <p id="status-message"></p>
                <a id="send-email" href="#">Send Email with Mistake</a> <br />
                <a id="recall-email" href="#">Recall Email</a>
            </div>
        </main>
        <script>
            'use strict';
            let i = 4;
            const list = document.getElementById('key-items');
            const addAction = document.getElementById('add-to-list');
            const displayMessage = document.getElementById('display-message');
            let timeoutId = 0;
            let countdown = 10;
            const sendEmailAnchor = document.getElementById('send-email');
            const cancelEmailAnchor = document.getElementById('recall-email');
            const statusMessage = document.getElementById('status-message');

            sendEmailAnchor.addEventListener('click', sendEmail);
            cancelEmailAnchor.addEventListener('click', cancelEmail);

            function sendEmail(e) {
                e.preventDefault();
                timeoutId = setTimeout(countDownToSend);
            }

            function countDownToSend() {
                if (countdown > 0) {
                    statusMessage.innerText = `Email will send in ${countdown} seconds...`;
                    countdown--;
                    timeoutId = setTimeout(countDownToSend, 1000);
                } else {
                    actuallySendEmail();
                    countdown = 10;
                    statusMessage.innerText = '';
                }
            }

            function cancelEmail(e) {
                e.preventDefault();
                clearTimeout(timeoutId);
                cancelSendEmail();
                countdown = 10;
            }

            function actuallySendEmail() {
                displayMessage.innerText = 'The email has been sent!!!!!';
            }

            function cancelSendEmail() {
                displayMessage.innerText = 'The email has been recalled!';
                statusMessage.innerText = '';
            }

            // addAction.addEventListener('click', addFromLink);

            // function addFromLink(e) {
            //     e.preventDefault();
            //     const li = document.createElement('li');
            //     li.innerText = `LI from anchor tag #${i}`;
            //     li.classList.add('new-item');
            //     i++;
            //     list.appendChild(li);
            //     setTimeout(removeNewItemClass, 2000, li);
            // }

            // function removeNewItemClass(item) {
            //     // const items = list.querySelectorAll('.new-item');
            //     // const itemsArray = Array.from(items);
            //     // itemsArray.forEach(el => el.classList.remove('new-item'));
                    /* If you want to delay each click */
            //     item.classList.remove('new-item');
            // }
        </script>
    </body>
</html>